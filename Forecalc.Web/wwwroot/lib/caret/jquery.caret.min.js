!function(){function l(e){document.activeElement&&document.activeElement===e||e.focus()}jQuery.fn.caret=function(e){var t=this[0],n=t&&"true"===t.contentEditable;if(0!=arguments.length){if(t){if(-1==e&&(e=this[n?"text":"val"]().length),window.getSelection)n?(l(t),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e);else if(document.body.createTextRange){if(n)(r=document.body.createTextRange()).moveToElementText(t),r.moveStart("character",e),r.collapse(!0),r.select();else(r=t.createTextRange()).move("character",e),r.select()}n||l(t)}return this}if(t){if(window.getSelection){if(n){l(t);var o=window.getSelection();return o.rangeCount?((a=(c=o.getRangeAt(0)).cloneRange()).selectNodeContents(t),a.setEnd(c.endContainer,c.endOffset),a.toString().length):0}return t.selectionStart}if(document.selection){if(l(t),n){var c=document.selection.createRange();return(a=document.body.createTextRange()).moveToElementText(t),a.setEndPoint("EndToEnd",c),a.text.length}e=0;var a,r=t.createTextRange(),i=(a=document.selection.createRange().duplicate()).getBookmark();for(r.moveToBookmark(i);0!==r.moveStart("character",-1);)e++;return e}if(t.selectionStart)return t.selectionStart}}}();